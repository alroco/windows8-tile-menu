(function(e){function r(e,t,n){var r=e.children("div[current='true']");var i=parseInt(r.attr("pos"));var s=i+1;if(s==t+1)s=1;var o=e.children("div[pos='"+s+"']");o.css("top","0");r.animate({opacity:1},1e3,function(){r.animate({top:n.height},700,function(){r.css("opacity","1")});o.css("z-index","1");o.attr("current","true");r.attr("current","false")});for(j=1;j<=t;j++){if(j!=i&&j!=s){e.children("div[pos='"+j+"']").css("z-index","2")}}}function s(e,t){var o=e.children(".sec").length;for(i=0;i<o;i++){var u=e.children(".sec:eq("+i+")");var a=u.children().length;if(a!=0){r(u,a,t)}}n=setTimeout(function(){s(e,t)},t.freq)}var t=400;e.fn.winify=function(t){var n=e.extend({},e.fn.winify.defaults,t);var r=this.children(".sec").length;for(i=0;i<r;i++){var o=this.children(".sec:eq("+i+")");o.children().css("transition","top ."+(Math.floor(Math.random()*8+0)+1)+"s ease-out");var u=o.children().length;o.children("div:eq(0)").attr("current","true").attr("pos","1");o.children("div:eq(0)").css("top","0").css("z-index","1");for(j=1;j<u;j++){var a=o.children("div:eq("+j+")");a.attr("pos",j+1);a.css("top",n.height).css("z-index","2");a.css("background",n.color[Math.floor(Math.random()*n.color.length+0)])}o.css("background",n.color[Math.floor(Math.random()*n.color.length+0)])}s(this,n)};e.fn.winify.defaults={color:new Array("#006161","#00B2B2","#B26200","#008000","#8E1B1B","#009999","#004C4C","#167D77"),height:120,freq:4e3};var n})(jQuery)